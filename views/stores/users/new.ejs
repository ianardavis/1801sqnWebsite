<%- include('../../partials/head/head') %>
<body>
<%- include('../../partials/head/flash') %>
<section id='body'>
<section class="container">
    <form id='userForm'>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Bader #</span>
            </div>
            <input class="form-control" id="_bader" name="user[_bader]" type="text" placeholder="Required" maxlength="20" required>
        </div>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Rank</span>
            </div>
            <select class="form-control" name="user[rank_id]" type="text">
                <% classes.ranks.forEach(rank => { %>
                    <option value="<%= rank.rank_id %>"><%= rank._rank %></option>         
                <% }) %>
            </select>
        </div>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Surname</span>
            </div>
            <input class="form-control" id="_name" name="user[_name]" type="text" placeholder="Required" maxlength="50" required>
        </div>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Initials</span>
            </div>
            <input class="form-control" id="_ini" name="user[_ini]" type="text" maxlength="5">
        </div>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Status</span>
            </div>
            <select class="form-control" name="user[status_id]" type="text" >
                <% classes.statuses.forEach((status) => { %>
                    <% if (status.status_id !== 4) { %>
                        <option value="<%= status.status_id %>"><%= status._status %></option>
                    <% } %>
                <% }) %>
            </select>
        </div>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Login ID</span>
            </div>
            <input class="form-control" id="_login_id" name="user[_login_id]" type="text" maxlength="30" required>
        </div>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Password</span>
            </div>
            <input class="form-control" id="_password" name="_password" type="password" password minlength="8" required>
        </div>
        <div class="input-group mb-1">
            <div class="input-group-prepend w-30">
                <span class="input-group-text w-100">Confirm Password</span>
            </div>
            <input class="form-control" id="_confirm" type="password" password minlength="8" required>
        </div>
            <input class="btn btn-primary w-100 confirm" id='_submit' type="submit" value='Save'>
            <a class='float-left' href='javascript:close()'>Cancel</a>
        </div>
    </form>
</section>
<% include ../../partials/foot/noNav %>
<script src="/js/loginBaderMirror.js"></script>
<script src="/js/newUserFieldCheck.js"></script>
<script>
    window.addEventListener( "load", function () {
        addFormListener('userForm', 'POST', '/stores/users');
    });
</script>
<% include ../../partials/foot/htmlClose %>