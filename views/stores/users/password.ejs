<%- include(`${process.env.PARTIALS}/head/head`) %>
<body>
<%- include(`${process.env.PARTIALS}/head/flash`) %>
<section id='body'>
    <form id='passwordForm'>
        <input type="hidden" name="user[_reset]", value="0">
        <%- include(`${process.env.PARTIALS}/inputs/display`, {id: '_bader',    title: 'Bader #'}) %>
        <%- include(`${process.env.PARTIALS}/inputs/display`, {id: '_rank',     title: 'Rank'}) %>
        <%- include(`${process.env.PARTIALS}/inputs/display`, {id: '_name',     title: 'Name'}) %>
        <%- include(`${process.env.PARTIALS}/inputs/display`, {id: '_ini',      title: 'Initials'}) %>
        <%- include(`${process.env.PARTIALS}/inputs/display`, {id: '_login_id', title: 'Login ID'}) %>
        <%- include(`${process.env.PARTIALS}/inputs/text`,    {id: '_password', title: 'Password', name: '_password', placeholder: 'Required', minLength: 8,  required: true, type: 'password'}) %>
        <%- include(`${process.env.PARTIALS}/inputs/text`,    {id: '_confirm',  title: 'Confirm Password',            placeholder: 'Required', minLength: 8,  required: true, type: 'password'}) %>
        <%- include(`${process.env.PARTIALS}/save_cancel`) %>
        <p>Password must include:</p>
        <ol>
            <li>at least 8 characters</li>
            <li>a number</li>
            <li>an upper case letter</li>
            <li>a lower case letter</li>
            <li>a special character (!@#$%^&*)</li>
        </ol>
    </form>
<%- include(`${process.env.PARTIALS}/foot/noNav`) %>
<script src="/js/passwordCheck.js"></script>
<script src="/js/data/addFormListener.js"></script>
<script src="/js/data/XHRsend.js"></script>
<script src="/js/get.js"></script>
<script src="/js/spinner.js"></script>
<script>
    window.addEventListener( "load", () => {
        addFormListener(
            'passwordForm',
            'PUT',
            `/stores/password/${user_id}>`,
            {
                onComplete: window.opener.getUser,
                _close: true
            }
        );
    });
</script>
<%- include(`${process.env.PARTIALS}/foot/htmlClose`) %>
